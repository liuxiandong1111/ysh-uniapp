{"version":3,"sources":["uni-app:///main.js","webpack:///E:/ysh/ysh-uniapp/pages/customer/detail.vue?8360","webpack:///E:/ysh/ysh-uniapp/pages/customer/detail.vue?c624","webpack:///E:/ysh/ysh-uniapp/pages/customer/detail.vue?c5ea","webpack:///E:/ysh/ysh-uniapp/pages/customer/detail.vue?9651","uni-app:///pages/customer/detail.vue","webpack:///E:/ysh/ysh-uniapp/pages/customer/detail.vue?2442","webpack:///E:/ysh/ysh-uniapp/pages/customer/detail.vue?6ed6"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","customerId","activeTab","detailTabs","name","key","customerInfo","loanList","type","pageType","approvalStatus","onLoad","id","phone","age","marriageStatus","manager","department","customerGroup","workplace","license_info","license_img","asset_info","income","credit_investigation","descr","createTime","updateTime","console","methods","getMarriageStatusText","getApprovalStatusText","getRepaymentStatusText","previewImage","uni","urls","current","viewLoanDetail","url","goBack","editCustomer","getClientType","formatDate","loadLoanList","title","params","client_id","page","page_size","financeApi","res","getDueTypeText","getStatusClass","viewProgress","computed","licenseImgList"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAAA;AAAgmB,CAAgB,0nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACgJpnB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAC;IACA;MACAC;MACAC;MACAC,aACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,EACA;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACA;MACA;;MAEA;MACA;QACA;UACA;UACA;YACAC;YACAR;YACAS;YACAC;YACAC;YAAA;YACAC;YAAA;YACAC;YAAA;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;UACA;UAEA;YACA;UACA;YACA;UACA;QACA;UACAC;UACA;QACA;MACA,QAEA;IACA;EACA;EACAC;IACAC;MAAA;MACAF;MACA;QAAA;MAAA;IACA;IACAG;MACA;QACA;QACA;QACA;MACA;MACA;IACA;IACAC;MACA;QACA;QACA;MACA;MACA;IACA;IACAC;MACAC;MACAA;QACAC;QACAC;MACA;IACA;IACAC;MACA;MACAH;QACAI;MACA;IACA;IACAC;MACAL;IACA;IACAM;MACAN;QACAI;MACA;IACA;IACAG;MACA;QACA;QACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACAT;kBACAU;gBACA;gBAAA;gBAGAC;kBACAC;kBACAC;kBACAC;gBACA,GAEA;gBAAA;gBAAA,OACAC;cAAA;gBAAAC;gBAEA;gBACAhB;gBAEA;kBACA;kBACA;kBAEA;oBACAN;kBACA;gBACA;kBACAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEA;gBACAM;gBACAN;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAuB;MACA;QACA;UAAA;QACA;UAAA;QACA;UAAA;QACA;UAAA;MAAA;IAEA;IAEA;IACAC;MACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEAC;MACA;MACAzB;MACAM;QACAI;MACA;IACA;EACA;EACAgB;IACAC;MACA;MACA;QACA3B;QACA;UAAA;QAAA;MACA;QACAA;QACA;MACA;MACAA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACjVA;AAAA;AAAA;AAAA;AAAk3B,CAAgB,m3BAAG,EAAC,C;;;;;;;;;;;ACAt4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/customer/detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/customer/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=526c0b39&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/customer/detail.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=526c0b39&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 =\n    _vm.activeTab === \"basic\"\n      ? _vm.getMarriageStatusText(_vm.customerInfo.marriageStatus)\n      : null\n  var g0 =\n    !(_vm.activeTab === \"basic\") && _vm.activeTab === \"followUp\"\n      ? _vm.loanList.length\n      : null\n  var l0 =\n    !(_vm.activeTab === \"basic\") && _vm.activeTab === \"followUp\" && !(g0 === 0)\n      ? _vm.__map(_vm.loanList, function (loan, loanIndex) {\n          var $orig = _vm.__get_orig(loan)\n          var m1 = _vm.getApprovalStatusText(loan.status)\n          var m2 =\n            loan.status == 2 ? _vm.getRepaymentStatusText(loan.is_yu) : null\n          return {\n            $orig: $orig,\n            m1: m1,\n            m2: m2,\n          }\n        })\n      : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, tab) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        tab = _temp2.tab\n      var _temp, _temp2\n      _vm.activeTab = tab.key\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        g0: g0,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\r\n\t\t<view class=\"tabs\" v-if=\"type !== 'loan'\">\r\n\t\t\t<view v-for=\"(tab, index) in detailTabs\" :key=\"index\"\r\n\t\t\t\t:class=\"['tab-item', { active: activeTab === tab.key }]\" @click=\"activeTab = tab.key\">\r\n\t\t\t\t{{ tab.name }}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"content\" :style=\"{ paddingTop: type === 'loan' ? '15px' : '55px' }\">\r\n\t\t\t<!-- 基本信息 TAB -->\r\n\t\t\t<view class=\"tab-content\" v-if=\"activeTab === 'basic'\">\r\n\t\t\t\t<view class=\"info-section\">\r\n\t\t\t\t\t<view class=\"section-title\">基本信息</view>\r\n\t\t\t\t\t<view class=\"info-list\">\r\n\t\t\t\t\t\t<view class=\"info-item\">\r\n\t\t\t\t\t\t\t<text class=\"info-label\">姓名</text>\r\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.name }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"info-item\" v-if=\"type != 'loan'\">\r\n\t\t\t\t\t\t\t<text class=\"info-label\">手机号</text>\r\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.phone }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"info-item\">\r\n\t\t\t\t\t\t\t<text class=\"info-label\">年龄</text>\r\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.age }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"info-item\">\r\n\t\t\t\t\t\t\t<text class=\"info-label\">婚姻状态</text>\r\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ getMarriageStatusText(customerInfo.marriageStatus) }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"info-section\">\r\n\t\t\t\t\t<view class=\"section-title\">客户资料</view>\r\n\t\t\t\t\t<view class=\"info-list\">\r\n\t\t\t\t\t\t<view class=\"info-item\">\r\n\t\t\t\t\t\t\t<text class=\"info-label\">所属客群</text>\r\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.customerGroup }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"info-item full-width\">\r\n\t\t\t\t\t\t\t<text class=\"info-label\">工作单位</text>\r\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.workplace }}</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"info-item full-width\" v-if=\"customerInfo.license_info\">\r\n\t\t\t\t\t\t\t<text class=\"info-label\">执照信息</text>\r\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.license_info }}</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"info-item full-width\" v-if=\"customerInfo.license_img\">\r\n\t\t\t\t\t\t\t<text class=\"info-label\">执照图片</text>\r\n\t\t\t\t\t\t\t<view class=\"image-container\">\r\n\t\t\t\t\t\t\t\t<image v-for=\"(img, imgIndex) in licenseImgList\" :key=\"imgIndex\" :src=\"img\"\r\n\t\t\t\t\t\t\t\t\tclass=\"license-image\" @click=\"previewImage(img)\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"info-item full-width\">\r\n\t\t\t\t\t\t\t<text class=\"info-label\">资产状况</text>\r\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.asset_info || '未填写' }}</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"info-item full-width\">\r\n\t\t\t\t\t\t\t<text class=\"info-label\">收入描述</text>\r\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.income }}</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"info-item full-width\">\r\n\t\t\t\t\t\t\t<text class=\"info-label\">征信描述</text>\r\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.credit_investigation }}</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"info-item full-width\">\r\n\t\t\t\t\t\t\t<text class=\"info-label\">备注信息</text>\r\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.descr }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 贷款信息 TAB -->\r\n\t\t\t<view class=\"tab-content\" v-else-if=\"activeTab === 'followUp'\">\r\n\t\t\t\t<view v-if=\"loanList.length === 0\" class=\"empty-tip\">暂无贷款记录</view>\r\n\t\t\t\t<view v-else class=\"loan-list\">\r\n\t\t\t\t\t<view v-for=\"(loan, loanIndex) in loanList\" :key=\"loanIndex\" class=\"loan-item\">\r\n\t\t\t\t\t\t<view class=\"loan-header\">\r\n\t\t\t\t\t\t\t<text class=\"loan-name\">{{ loan.name }}</text>\r\n\t\t\t\t\t\t\t<text class=\"loan-status\" :class=\"'status-' + loan.status\">{{\r\n\t\t\t\t\t\t\t\tgetApprovalStatusText(loan.status) }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"loan-info\">\r\n\t\t\t\t\t\t\t<view class=\"loan-info-item\">\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">贷款类型:</text>\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\">{{ loan.type == 1 ? '消费' : '经营' }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"loan-info-item\">\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">详细进度</text>\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\" style=\"color: #409EFF;\" @click=\"viewProgress(loan)\">查看</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"loan-info-item\">\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">期限(年):</text>\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\">{{ loan.age_limit }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"loan-info-item\">\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">还款方式:</text>\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\">{{ loan.due_type == 1 ? '等额本息' : loan.due_type == 2 ?\r\n\t\t\t\t\t\t\t\t\t'先息后本' : loan.due_type == 3 ? '随借随还' : '' }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"loan-info-item\">\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">放款时间:</text>\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\">{{ loan.loan_date || '' }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"loan-info-item\">\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">额度:</text>\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\">{{ loan.quota }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"loan-info-item\">\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">利率:</text>\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\">{{ loan.rate }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"loan-info-item\" v-if=\"loan.status == 2\">\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">还款状态:</text>\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\" :class=\"'repay-' + loan.is_yu\">{{\r\n\t\t\t\t\t\t\t\t\tgetRepaymentStatusText(loan.is_yu) }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"loan-info-item\" v-if=\"loan.rejectReason\">\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">拒绝原因:</text>\r\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\">{{ loan.rejectReason }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"loan-action\">\r\n\t\t\t\t\t\t\t<button @click=\"viewLoanDetail(loan)\" class=\"loan-detail-btn\">详情</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { maritalStatus, approvalStatus } from '@/utils/dict.js';\r\nimport financeApi from '@/api/finance.js';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcustomerId: '',\r\n\t\t\tactiveTab: 'basic',\r\n\t\t\tdetailTabs: [\r\n\t\t\t\t{ name: '基本信息', key: 'basic' },\r\n\t\t\t\t{ name: '贷款信息', key: 'followUp' }\r\n\t\t\t],\r\n\t\t\tcustomerInfo: {},\r\n\t\t\tloanList: [],\r\n\t\t\ttype: '',\r\n\t\t\tpageType: '',\r\n\t\t\tapprovalStatus\r\n\t\t}\r\n\t},\r\n\tonLoad(options) {\r\n\t\tif (options.id) {\r\n\t\t\tthis.customerId = options.id;\r\n\t\t\tthis.type = options.type || '';\r\n\r\n\t\t\t// 解析从列表页传递过来的客户数据\r\n\t\t\tif (options.customerData) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst customerData = JSON.parse(decodeURIComponent(options.customerData));\r\n\t\t\t\t\tthis.customerInfo = {\r\n\t\t\t\t\t\tid: customerData.id,\r\n\t\t\t\t\t\tname: customerData.name || '未知',\r\n\t\t\t\t\t\tphone: customerData.phone || '未填写',\r\n\t\t\t\t\t\tage: customerData.age || '',\r\n\t\t\t\t\t\tmarriageStatus: customerData.matrimony || '', // 婚姻状态\r\n\t\t\t\t\t\tmanager: customerData.service_name || '未分配', // 业务员\r\n\t\t\t\t\t\tdepartment: customerData.branch_name || '未分配', // 所属部门\r\n\t\t\t\t\t\tcustomerGroup: this.getClientType(customerData.client_type),\r\n\t\t\t\t\t\tworkplace: customerData.work_unit || '',\r\n\t\t\t\t\t\tlicense_info: customerData.license_info || '',\r\n\t\t\t\t\t\tlicense_img: customerData.license_img || '',\r\n\t\t\t\t\t\tasset_info: customerData.asset_info || '',\r\n\t\t\t\t\t\tincome: customerData.income || '未填写',\r\n\t\t\t\t\t\tcredit_investigation: customerData.credit_investigation || '未填写',\r\n\t\t\t\t\t\tdescr: customerData.descr || '',\r\n\t\t\t\t\t\tcreateTime: this.formatDate(customerData.ctime),\r\n\t\t\t\t\t\tupdateTime: this.formatDate(customerData.utime)\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif (customerData.deal_status != 1) {\r\n\t\t\t\t\t\tthis.loadLoanList();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.loanList = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.error('解析客户数据失败', e);\r\n\t\t\t\t\t// 解析失败时调用API获取详情\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetMarriageStatusText(status) {\r\n\t\t\tconsole.log('status', maritalStatus, status);\r\n\t\t\treturn maritalStatus.find(item => item.value == status)?.label || '';\r\n\t\t},\r\n\t\tgetApprovalStatusText(status) {\r\n\t\t\tconst map = {\r\n\t\t\t\t'1': '开户中',\r\n\t\t\t\t'2': '批款',\r\n\t\t\t\t'3': '拒绝'\r\n\t\t\t};\r\n\t\t\treturn map[status] || status;\r\n\t\t},\r\n\t\tgetRepaymentStatusText(status) {\r\n\t\t\tconst map = {\r\n\t\t\t\t'0': '正常',\r\n\t\t\t\t'1': '逾期'\r\n\t\t\t};\r\n\t\t\treturn map[status] || status;\r\n\t\t},\r\n\t\tpreviewImage(img) {\r\n\t\t\tuni.setStorageSync('isChoosingImage', true);\r\n\t\t\tuni.previewImage({\r\n\t\t\t\turls: this.licenseImgList,\r\n\t\t\t\tcurrent: img\r\n\t\t\t});\r\n\t\t},\r\n\t\tviewLoanDetail(loan) {\r\n\t\t\tconst loanData = encodeURIComponent(JSON.stringify(loan));\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/pages/loan/detail?id=${loan.id}&loanData=${loanData}&type=customer`\r\n\t\t\t});\r\n\t\t},\r\n\t\tgoBack() {\r\n\t\t\tuni.navigateBack();\r\n\t\t},\r\n\t\teditCustomer() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/pages/customer/edit?id=${this.customerId}`\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetClientType(type) {\r\n\t\t\tconst map = {\r\n\t\t\t\t'1': '消费',\r\n\t\t\t\t'2': '经营',\r\n\t\t\t\t'3': '消费经营'\r\n\t\t\t};\r\n\t\t\treturn map[type] || '未知类型';\r\n\t\t},\r\n\t\tformatDate(timestamp) {\r\n\t\t\tif (!timestamp) return '';\r\n\t\t\tconst date = new Date(timestamp);\r\n\t\t\treturn `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}:${String(date.getSeconds()).padStart(2, '0')}`;\r\n\t\t},\r\n\t\tasync loadLoanList() {\r\n\t\t\t// 显示加载提示\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中...'\r\n\t\t\t});\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tclient_id: this.customerId,\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpage_size: 30\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// 调用API获取贷款列表\r\n\t\t\t\tconst res = await financeApi.getLoanList(params);\r\n\r\n\t\t\t\t// 隐藏加载提示\r\n\t\t\t\tuni.hideLoading();\r\n\r\n\t\t\t\tif (res && res.retCode === 200) {\r\n\t\t\t\t\t// 转换API返回数据为页面需要的格式\r\n\t\t\t\t\tthis.loanList = res.data.list || []\r\n\r\n\t\t\t\t\tif (this.loanList.length === 0) {\r\n\t\t\t\t\t\tconsole.log('暂无贷款记录');\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error('获取贷款列表失败:', res.retMsg || '未知错误');\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\t// 隐藏加载提示\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t\tconsole.error('获取贷款列表失败:', error);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 获取还款方式文本\r\n\t\tgetDueTypeText(type) {\r\n\t\t\tswitch (Number(type)) {\r\n\t\t\t\tcase 1: return '等额本息';\r\n\t\t\t\tcase 2: return '先息后本';\r\n\t\t\t\tcase 3: return '随借随还';\r\n\t\t\t\tdefault: return '未知';\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 获取状态类名\r\n\t\tgetStatusClass(status) {\r\n\t\t\tconst statusMap = {\r\n\t\t\t\t'1': 'pending',\r\n\t\t\t\t'2': 'approved',\r\n\t\t\t\t'3': 'rejected'\r\n\t\t\t};\r\n\t\t\treturn statusMap[status] || 'pending';\r\n\t\t},\r\n\r\n\t\tviewProgress (row) {\r\n\t\t\tconst loanData = encodeURIComponent(JSON.stringify(row));\r\n\t\t\tconsole.log(loanData, 'loanData')\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/pages/loan/progress?loanData=${loanData}&type=customer`\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tlicenseImgList() {\r\n\t\t\t// 如果license_img是字符串，则按逗号分隔；如果已经是数组，则直接返回\r\n\t\t\tif (typeof this.customerInfo.license_img === 'string' && this.customerInfo.license_img) {\r\n\t\t\t\tconsole.log('处理执照图片字符串:', this.customerInfo.license_img);\r\n\t\t\t\treturn this.customerInfo.license_img.split(',').filter(img => img);\r\n\t\t\t} else if (Array.isArray(this.customerInfo.license_img)) {\r\n\t\t\t\tconsole.log('执照图片已是数组:', this.customerInfo.license_img);\r\n\t\t\t\treturn this.customerInfo.license_img;\r\n\t\t\t}\r\n\t\t\tconsole.log('没有执照图片');\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n.container {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tbackground-color: #f5f7fa;\r\n\tposition: relative;\r\n\theight: 100vh;\r\n}\r\n\r\n.tabs {\r\n\tdisplay: flex;\r\n\tbackground-color: #fff;\r\n\tborder-bottom: 1px solid #eee;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tz-index: 1000;\r\n}\r\n\r\n.tab-item {\r\n\tflex: 1;\r\n\theight: 44px;\r\n\tline-height: 44px;\r\n\ttext-align: center;\r\n\tfont-size: 14px;\r\n\tcolor: #333;\r\n\tposition: relative;\r\n}\r\n\r\n.tab-item.active {\r\n\tcolor: #409EFF;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.tab-item.active:after {\r\n\tcontent: '';\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\twidth: 40px;\r\n\theight: 2px;\r\n\tbackground-color: #409EFF;\r\n}\r\n\r\n.content {\r\n\tpadding: 55px 15px 0;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.tab-content {}\r\n\r\n.info-section {\r\n\tbackground-color: #fff;\r\n\tborder-radius: 8px;\r\n\tpadding: 15px;\r\n\tmargin-bottom: 15px;\r\n}\r\n\r\n.section-title {\r\n\tfont-size: 16px;\r\n\tfont-weight: bold;\r\n\tmargin-bottom: 15px;\r\n\tcolor: #333;\r\n\tborder-left: 3px solid #409EFF;\r\n\tpadding-left: 10px;\r\n}\r\n\r\n.info-list {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n}\r\n\r\n.info-item {\r\n\twidth: 50%;\r\n\tmargin-bottom: 15px;\r\n}\r\n\r\n.info-item.full-width {\r\n\twidth: 100%;\r\n}\r\n\r\n.info-label {\r\n\tdisplay: block;\r\n\tfont-size: 14px;\r\n\tcolor: #999;\r\n\tmargin-bottom: 5px;\r\n}\r\n\r\n.info-value {\r\n\tfont-size: 14px;\r\n\tcolor: #333;\r\n\tword-break: break-all;\r\n}\r\n\r\n.image-container {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tmargin-top: 5px;\r\n}\r\n\r\n.license-image {\r\n\twidth: 80px;\r\n\theight: 80px;\r\n\tmargin-right: 10px;\r\n\tmargin-bottom: 10px;\r\n\tborder-radius: 4px;\r\n\tbackground-color: #f5f5f5;\r\n}\r\n\r\n.empty-tip {\r\n\ttext-align: center;\r\n\tpadding: 30px 0;\r\n\tcolor: #999;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.loan-list {}\r\n\r\n.loan-item {\r\n\tbackground-color: #fff;\r\n\tborder-radius: 8px;\r\n\tmargin-bottom: 15px;\r\n\tpadding: 15px;\r\n\tbox-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.loan-header {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: 10px;\r\n\tpadding-bottom: 10px;\r\n\tborder-bottom: 1px solid #f5f5f5;\r\n}\r\n\r\n.loan-name {\r\n\tfont-size: 16px;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n}\r\n\r\n.loan-status {\r\n\tfont-size: 12px;\r\n\tpadding: 2px 8px;\r\n\tborder-radius: 10px;\r\n\tcolor: white;\r\n}\r\n\r\n.status-1 {\r\n\tbackground-color: #909399;\r\n}\r\n\r\n.status-processing {\r\n\tbackground-color: #E6A23C;\r\n}\r\n\r\n.status-2 {\r\n\tbackground-color: #67C23A;\r\n}\r\n\r\n.status-3 {\r\n\tbackground-color: #F56C6C;\r\n}\r\n\r\n.loan-info {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n}\r\n\r\n.loan-info-item {\r\n\twidth: 100%;\r\n\tmargin-bottom: 10px;\r\n}\r\n\r\n.loan-info-label {\r\n\tcolor: #999;\r\n\tfont-size: 14px;\r\n\tmargin-right: 5px;\r\n}\r\n\r\n.loan-info-value {\r\n\tcolor: #333;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.repay-normal {\r\n\tcolor: #67C23A;\r\n}\r\n\r\n.repay-overdue {\r\n\tcolor: #F56C6C;\r\n}\r\n\r\n.repay-completed {\r\n\tcolor: #909399;\r\n}\r\n\r\n.repay-delayed {\r\n\tcolor: #E6A23C;\r\n}\r\n\r\n.loan-action {\r\n\tmargin-top: 10px;\r\n\ttext-align: right;\r\n}\r\n\r\n.loan-detail-btn {\r\n\tdisplay: inline-block;\r\n\tbackground-color: #409EFF;\r\n\tcolor: white;\r\n\tfont-size: 14px;\r\n\tborder-radius: 4px;\r\n\tborder: none;\r\n}\r\n\r\n.footer {\r\n\tpadding: 10px 15px;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tbackground-color: #fff;\r\n\tborder-top: 1px solid #eee;\r\n}\r\n\r\n.btn {\r\n\tflex: 1;\r\n\theight: 40px;\r\n\tline-height: 40px;\r\n\ttext-align: center;\r\n\tborder-radius: 4px;\r\n\tfont-size: 16px;\r\n}\r\n\r\n.btn-default {\r\n\tbackground-color: #f5f5f5;\r\n\tcolor: #333;\r\n\tmargin-right: 10px;\r\n}\r\n\r\n.btn-primary {\r\n\tbackground-color: #409EFF;\r\n\tcolor: white;\r\n}\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1749696887333\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}