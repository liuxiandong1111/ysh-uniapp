{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/admin/Desktop/ysh-uniapp-master/pages/customer/detail.vue?eaa0","webpack:////Users/admin/Desktop/ysh-uniapp-master/pages/customer/detail.vue?6b22","webpack:////Users/admin/Desktop/ysh-uniapp-master/pages/customer/detail.vue?393b","uni-app:///pages/customer/detail.vue","webpack:////Users/admin/Desktop/ysh-uniapp-master/pages/customer/detail.vue?4102","webpack:////Users/admin/Desktop/ysh-uniapp-master/pages/customer/detail.vue?b09c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","customerId","activeTab","detailTabs","name","key","customerInfo","loanList","type","pageType","approvalStatus","onLoad","id","phone","age","marriageStatus","manager","department","customerGroup","workplace","license_info","license_img","asset_info","client_level","income","credit_investigation","descr","createTime","updateTime","console","methods","getMarriageStatusText","getApprovalStatusText","getRepaymentStatusText","previewImage","uni","urls","current","viewLoanDetail","url","goBack","editCustomer","getClientType","formatDate","loadLoanList","params","client_id","page","page_size","financeApi","res","getDueTypeText","getStatusClass","viewProgress","computed","licenseImgList"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAAA;AAAqzB,CAAgB,oyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACoJz0B;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAC;IACA;MACAC;MACAC;MACAC,aACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,EACA;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACA;MACA;;MAEA;MACA;QACA;UACA;UACA;YACAC;YACAR;YACAS;YACAC;YACAC;YAAA;YACAC;YAAA;YACAC;YAAA;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;YACAC;UACA;UAEA;YACA;UACA;YACA;UACA;QACA;UACAC;UACA;QACA;MACA,QAEA;IACA;EACA;EACAC;IACAC;MAAA;MACAF;MACA;QAAA;MAAA;IACA;IACAG;MACA;QACA;QACA;QACA;MACA;MACA;IACA;IACAC;MACA;QACA;QACA;MACA;MACA;IACA;IACAC;MACAC;MACAA;QACAC;QACAC;MACA;IACA;IACAC;MACA;MACAH;QACAI;MACA;IACA;IACAC;MACAL;IACA;IACAM;MACAN;QACAI;MACA;IACA;IACAG;MACA;QACA;QACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEAC;kBACAC;kBACAC;kBACAC;gBACA,GAEA;gBAAA;gBAAA,OACAC;cAAA;gBAAAC;gBACA;gBAEA;kBACA;kBACA;kBAEA;oBACArB;kBACA;gBACA;kBACAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAsB;MACA;QACA;UAAA;QACA;UAAA;QACA;UAAA;QACA;UAAA;MAAA;IAEA;IAEA;IACAC;MACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEAC;MACA;MACAxB;MACAM;QACAI;MACA;IACA;EACA;EACAe;IACAC;MACA;MACA;QACA1B;QACA;UAAA;QAAA;MACA;QACAA;QACA;MACA;MACAA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC7UA;AAAA;AAAA;AAAA;AAA4pC,CAAgB,imCAAG,EAAC,C;;;;;;;;;;;ACAhrC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/customer/detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/customer/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=526c0b39&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/customer/detail.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=526c0b39&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 =\n    _vm.activeTab === \"basic\"\n      ? _vm.getMarriageStatusText(_vm.customerInfo.marriageStatus)\n      : null\n  var g0 =\n    !(_vm.activeTab === \"basic\") && _vm.activeTab === \"followUp\"\n      ? _vm.loanList.length\n      : null\n  var l0 =\n    !(_vm.activeTab === \"basic\") && _vm.activeTab === \"followUp\" && !(g0 === 0)\n      ? _vm.__map(_vm.loanList, function (loan, loanIndex) {\n          var $orig = _vm.__get_orig(loan)\n          var m1 = _vm.getApprovalStatusText(loan.status)\n          var m2 =\n            loan.status == 2 ? _vm.getRepaymentStatusText(loan.is_yu) : null\n          return {\n            $orig: $orig,\n            m1: m1,\n            m2: m2,\n          }\n        })\n      : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, tab) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        tab = _temp2.tab\n      var _temp, _temp2\n      _vm.activeTab = tab.key\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        g0: g0,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"container\">\n\n\t\t<view class=\"tabs\" v-if=\"type !== 'loan'\">\n\t\t\t<view v-for=\"(tab, index) in detailTabs\" :key=\"index\"\n\t\t\t\t:class=\"['tab-item', { active: activeTab === tab.key }]\" @click=\"activeTab = tab.key\">\n\t\t\t\t{{ tab.name }}\n\t\t\t</view>\n\t\t</view>\n\n\t\t<view class=\"content\" :style=\"{ paddingTop: type === 'loan' ? '15px' : '55px' }\">\n\t\t\t<!-- 基本信息 TAB -->\n\t\t\t<view class=\"tab-content\" v-if=\"activeTab === 'basic'\">\n\t\t\t\t<view class=\"info-section\">\n\t\t\t\t\t<view class=\"section-title\">基本信息</view>\n\t\t\t\t\t<view class=\"info-list\">\n\t\t\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t\t\t<text class=\"info-label\">姓名</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.name }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"info-item\" v-if=\"type != 'loan'\">\n\t\t\t\t\t\t\t<text class=\"info-label\">手机号</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.phone }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t\t\t<text class=\"info-label\">年龄</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.age }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t\t\t<text class=\"info-label\">婚姻状态</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ getMarriageStatusText(customerInfo.marriageStatus) }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<view class=\"info-section\">\n\t\t\t\t\t<view class=\"section-title\">客户资料</view>\n\t\t\t\t\t<view class=\"info-list\">\n\t\t\t\t\t\t<view class=\"info-item full-width\">\n\t\t\t\t\t\t\t<text class=\"info-label\">客户分类</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.client_level }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"info-item full-width\">\n\t\t\t\t\t\t\t<text class=\"info-label\">所属客群</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.customerGroup }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"info-item full-width\">\n\t\t\t\t\t\t\t<text class=\"info-label\">工作单位</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.workplace }}</text>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<view class=\"info-item full-width\" v-if=\"customerInfo.license_info\">\n\t\t\t\t\t\t\t<text class=\"info-label\">执照信息</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.license_info }}</text>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<view class=\"info-item full-width\" v-if=\"customerInfo.license_img\">\n\t\t\t\t\t\t\t<text class=\"info-label\">执照图片</text>\n\t\t\t\t\t\t\t<view class=\"image-container\">\n\t\t\t\t\t\t\t\t<image v-for=\"(img, imgIndex) in licenseImgList\" :key=\"imgIndex\" :src=\"img\"\n\t\t\t\t\t\t\t\t\tclass=\"license-image\" @click=\"previewImage(img)\" />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<view class=\"info-item full-width\">\n\t\t\t\t\t\t\t<text class=\"info-label\">资产状况</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.asset_info || '未填写' }}</text>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<view class=\"info-item full-width\">\n\t\t\t\t\t\t\t<text class=\"info-label\">收入描述</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.income }}</text>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<view class=\"info-item full-width\">\n\t\t\t\t\t\t\t<text class=\"info-label\">征信描述</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.credit_investigation }}</text>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<view class=\"info-item full-width\">\n\t\t\t\t\t\t\t<text class=\"info-label\">备注信息</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ customerInfo.descr }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- 贷款信息 TAB -->\n\t\t\t<view class=\"tab-content\" v-else-if=\"activeTab === 'followUp'\">\n\t\t\t\t<view v-if=\"loanList.length === 0\" class=\"empty-tip\">暂无贷款记录</view>\n\t\t\t\t<view v-else class=\"loan-list\">\n\t\t\t\t\t<view v-for=\"(loan, loanIndex) in loanList\" :key=\"loanIndex\" class=\"loan-item\">\n\t\t\t\t\t\t<view class=\"loan-header\">\n\t\t\t\t\t\t\t<text class=\"loan-name\">{{ loan.name }}</text>\n\t\t\t\t\t\t\t<text class=\"loan-status\" :class=\"'status-' + loan.status\">{{\n\t\t\t\t\t\t\t\tgetApprovalStatusText(loan.status) }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"loan-info\">\n\t\t\t\t\t\t\t<view class=\"loan-info-item\">\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">贷款类型:</text>\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\">{{ loan.type == 1 ? '消费' : '经营' }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"loan-info-item\">\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">详细进度</text>\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\" style=\"color: #409EFF;\" @click=\"viewProgress(loan)\">查看</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"loan-info-item\">\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">期限(年):</text>\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\">{{ loan.age_limit }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"loan-info-item\">\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">还款方式:</text>\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\">{{ loan.due_type == 1 ? '等额本息' : loan.due_type == 2 ?\n\t\t\t\t\t\t\t\t\t'先息后本' : loan.due_type == 3 ? '随借随还' : '' }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"loan-info-item\">\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">放款时间:</text>\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\">{{ loan.loan_date || '' }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"loan-info-item\">\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">额度:</text>\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\">{{ loan.quota }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"loan-info-item\">\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">利率:</text>\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\">{{ loan.rate }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"loan-info-item\" v-if=\"loan.status == 2\">\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">还款状态:</text>\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\" :class=\"'repay-' + loan.is_yu\">{{\n\t\t\t\t\t\t\t\t\tgetRepaymentStatusText(loan.is_yu) }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"loan-info-item\" v-if=\"loan.rejectReason\">\n\t\t\t\t\t\t\t\t<text class=\"loan-info-label\">拒绝原因:</text>\n\t\t\t\t\t\t\t\t<text class=\"loan-info-value\">{{ loan.rejectReason }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"loan-action\">\n\t\t\t\t\t\t\t<button @click=\"viewLoanDetail(loan)\" class=\"loan-detail-btn\">详情</button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport { maritalStatus, approvalStatus } from '@/utils/dict.js';\nimport financeApi from '@/api/finance.js';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcustomerId: '',\n\t\t\tactiveTab: 'basic',\n\t\t\tdetailTabs: [\n\t\t\t\t{ name: '基本信息', key: 'basic' },\n\t\t\t\t{ name: '贷款信息', key: 'followUp' }\n\t\t\t],\n\t\t\tcustomerInfo: {},\n\t\t\tloanList: [],\n\t\t\ttype: '',\n\t\t\tpageType: '',\n\t\t\tapprovalStatus\n\t\t}\n\t},\n\tonLoad(options) {\n\t\tif (options.id) {\n\t\t\tthis.customerId = options.id;\n\t\t\tthis.type = options.type || '';\n\n\t\t\t// 解析从列表页传递过来的客户数据\n\t\t\tif (options.customerData) {\n\t\t\t\ttry {\n\t\t\t\t\tconst customerData = JSON.parse(decodeURIComponent(options.customerData));\n\t\t\t\t\tthis.customerInfo = {\n\t\t\t\t\t\tid: customerData.id,\n\t\t\t\t\t\tname: customerData.name || '未知',\n\t\t\t\t\t\tphone: customerData.phone || '未填写',\n\t\t\t\t\t\tage: customerData.age || '',\n\t\t\t\t\t\tmarriageStatus: customerData.matrimony || '', // 婚姻状态\n\t\t\t\t\t\tmanager: customerData.service_name || '未分配', // 业务员\n\t\t\t\t\t\tdepartment: customerData.branch_name || '未分配', // 所属部门\n\t\t\t\t\t\tcustomerGroup: this.getClientType(customerData.client_type),\n\t\t\t\t\t\tworkplace: customerData.work_unit || '',\n\t\t\t\t\t\tlicense_info: customerData.license_info || '',\n\t\t\t\t\t\tlicense_img: customerData.license_img || '',\n\t\t\t\t\t\tasset_info: customerData.asset_info || '',\n\t\t\t\t\t\tclient_level: customerData.client_level || '',\n\t\t\t\t\t\tincome: customerData.income || '未填写',\n\t\t\t\t\t\tcredit_investigation: customerData.credit_investigation || '未填写',\n\t\t\t\t\t\tdescr: customerData.descr || '',\n\t\t\t\t\t\tcreateTime: this.formatDate(customerData.ctime),\n\t\t\t\t\t\tupdateTime: this.formatDate(customerData.utime)\n\t\t\t\t\t};\n\n\t\t\t\t\tif (customerData.deal_status != 1) {\n\t\t\t\t\t\tthis.loadLoanList();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.loanList = [];\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error('解析客户数据失败', e);\n\t\t\t\t\t// 解析失败时调用API获取详情\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tgetMarriageStatusText(status) {\n\t\t\tconsole.log('status', maritalStatus, status);\n\t\t\treturn maritalStatus.find(item => item.value == status)?.label || '';\n\t\t},\n\t\tgetApprovalStatusText(status) {\n\t\t\tconst map = {\n\t\t\t\t'1': '开户中',\n\t\t\t\t'2': '批款',\n\t\t\t\t'3': '拒绝'\n\t\t\t};\n\t\t\treturn map[status] || status;\n\t\t},\n\t\tgetRepaymentStatusText(status) {\n\t\t\tconst map = {\n\t\t\t\t'0': '正常',\n\t\t\t\t'1': '逾期'\n\t\t\t};\n\t\t\treturn map[status] || status;\n\t\t},\n\t\tpreviewImage(img) {\n\t\t\tuni.setStorageSync('isChoosingImage', true);\n\t\t\tuni.previewImage({\n\t\t\t\turls: this.licenseImgList,\n\t\t\t\tcurrent: img\n\t\t\t});\n\t\t},\n\t\tviewLoanDetail(loan) {\n\t\t\tconst loanData = encodeURIComponent(JSON.stringify(loan));\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/loan/detail?id=${loan.id}&loanData=${loanData}&type=customer`\n\t\t\t});\n\t\t},\n\t\tgoBack() {\n\t\t\tuni.navigateBack();\n\t\t},\n\t\teditCustomer() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/customer/edit?id=${this.customerId}`\n\t\t\t});\n\t\t},\n\t\tgetClientType(type) {\n\t\t\tconst map = {\n\t\t\t\t'1': '消费',\n\t\t\t\t'2': '经营',\n\t\t\t\t'3': '消费经营'\n\t\t\t};\n\t\t\treturn map[type] || '未知类型';\n\t\t},\n\t\tformatDate(timestamp) {\n\t\t\tif (!timestamp) return '';\n\t\t\tconst date = new Date(timestamp);\n\t\t\treturn `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}:${String(date.getSeconds()).padStart(2, '0')}`;\n\t\t},\n\t\tasync loadLoanList() {\n\t\t\ttry {\n\t\t\t\tconst params = {\n\t\t\t\t\tclient_id: this.customerId,\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tpage_size: 30\n\t\t\t\t};\n\n\t\t\t\t// 调用API获取贷款列表\n\t\t\t\tconst res = await financeApi.getLoanList(params);\n;\n\n\t\t\t\tif (res && res.retCode === 200) {\n\t\t\t\t\t// 转换API返回数据为页面需要的格式\n\t\t\t\t\tthis.loanList = res.data.list || []\n\n\t\t\t\t\tif (this.loanList.length === 0) {\n\t\t\t\t\t\tconsole.log('暂无贷款记录');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('获取贷款列表失败:', res.retMsg || '未知错误');\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('获取贷款列表失败:', error);\n\t\t\t}\n\t\t},\n\n\t\t// 获取还款方式文本\n\t\tgetDueTypeText(type) {\n\t\t\tswitch (Number(type)) {\n\t\t\t\tcase 1: return '等额本息';\n\t\t\t\tcase 2: return '先息后本';\n\t\t\t\tcase 3: return '随借随还';\n\t\t\t\tdefault: return '未知';\n\t\t\t}\n\t\t},\n\n\t\t// 获取状态类名\n\t\tgetStatusClass(status) {\n\t\t\tconst statusMap = {\n\t\t\t\t'1': 'pending',\n\t\t\t\t'2': 'approved',\n\t\t\t\t'3': 'rejected'\n\t\t\t};\n\t\t\treturn statusMap[status] || 'pending';\n\t\t},\n\n\t\tviewProgress (row) {\n\t\t\tconst loanData = encodeURIComponent(JSON.stringify(row));\n\t\t\tconsole.log(loanData, 'loanData')\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/loan/progress?loanData=${loanData}&type=customer`\n\t\t\t});\n\t\t}\n\t},\n\tcomputed: {\n\t\tlicenseImgList() {\n\t\t\t// 如果license_img是字符串，则按逗号分隔；如果已经是数组，则直接返回\n\t\t\tif (typeof this.customerInfo.license_img === 'string' && this.customerInfo.license_img) {\n\t\t\t\tconsole.log('处理执照图片字符串:', this.customerInfo.license_img);\n\t\t\t\treturn this.customerInfo.license_img.split(',').filter(img => img);\n\t\t\t} else if (Array.isArray(this.customerInfo.license_img)) {\n\t\t\t\tconsole.log('执照图片已是数组:', this.customerInfo.license_img);\n\t\t\t\treturn this.customerInfo.license_img;\n\t\t\t}\n\t\t\tconsole.log('没有执照图片');\n\t\t\treturn [];\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.container {\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground-color: #f5f7fa;\n\tposition: relative;\n\theight: 100vh;\n}\n\n.tabs {\n\tdisplay: flex;\n\tbackground-color: #fff;\n\tborder-bottom: 1px solid #eee;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tz-index: 1000;\n}\n\n.tab-item {\n\tflex: 1;\n\theight: 44px;\n\tline-height: 44px;\n\ttext-align: center;\n\tfont-size: 14px;\n\tcolor: #333;\n\tposition: relative;\n}\n\n.tab-item.active {\n\tcolor: #409EFF;\n\tfont-weight: bold;\n}\n\n.tab-item.active:after {\n\tcontent: '';\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\twidth: 40px;\n\theight: 2px;\n\tbackground-color: #409EFF;\n}\n\n.content {\n\tpadding: 55px 15px 0;\n\tbox-sizing: border-box;\n}\n\n.tab-content {}\n\n.info-section {\n\tbackground-color: #fff;\n\tborder-radius: 8px;\n\tpadding: 15px;\n\tmargin-bottom: 15px;\n}\n\n.section-title {\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tmargin-bottom: 15px;\n\tcolor: #333;\n\tborder-left: 3px solid #409EFF;\n\tpadding-left: 10px;\n}\n\n.info-list {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n}\n\n.info-item {\n\twidth: 50%;\n\tmargin-bottom: 15px;\n}\n\n.info-item.full-width {\n\twidth: 100%;\n}\n\n.info-label {\n\tdisplay: block;\n\tfont-size: 14px;\n\tcolor: #999;\n\tmargin-bottom: 5px;\n}\n\n.info-value {\n\tfont-size: 14px;\n\tcolor: #333;\n\tword-break: break-all;\n}\n\n.image-container {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tmargin-top: 5px;\n}\n\n.license-image {\n\twidth: 80px;\n\theight: 80px;\n\tmargin-right: 10px;\n\tmargin-bottom: 10px;\n\tborder-radius: 4px;\n\tbackground-color: #f5f5f5;\n}\n\n.empty-tip {\n\ttext-align: center;\n\tpadding: 30px 0;\n\tcolor: #999;\n\tfont-size: 14px;\n}\n\n.loan-list {}\n\n.loan-item {\n\tbackground-color: #fff;\n\tborder-radius: 8px;\n\tmargin-bottom: 15px;\n\tpadding: 15px;\n\tbox-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\n}\n\n.loan-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 10px;\n\tpadding-bottom: 10px;\n\tborder-bottom: 1px solid #f5f5f5;\n}\n\n.loan-name {\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tcolor: #333;\n}\n\n.loan-status {\n\tfont-size: 12px;\n\tpadding: 2px 8px;\n\tborder-radius: 10px;\n\tcolor: white;\n}\n\n.status-1 {\n\tbackground-color: #909399;\n}\n\n.status-processing {\n\tbackground-color: #E6A23C;\n}\n\n.status-2 {\n\tbackground-color: #67C23A;\n}\n\n.status-3 {\n\tbackground-color: #F56C6C;\n}\n\n.loan-info {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n}\n\n.loan-info-item {\n\twidth: 100%;\n\tmargin-bottom: 10px;\n}\n\n.loan-info-label {\n\tcolor: #999;\n\tfont-size: 14px;\n\tmargin-right: 5px;\n}\n\n.loan-info-value {\n\tcolor: #333;\n\tfont-size: 14px;\n}\n\n.repay-normal {\n\tcolor: #67C23A;\n}\n\n.repay-overdue {\n\tcolor: #F56C6C;\n}\n\n.repay-completed {\n\tcolor: #909399;\n}\n\n.repay-delayed {\n\tcolor: #E6A23C;\n}\n\n.loan-action {\n\tmargin-top: 10px;\n\ttext-align: right;\n}\n\n.loan-detail-btn {\n\tdisplay: inline-block;\n\tbackground-color: #409EFF;\n\tcolor: white;\n\tfont-size: 14px;\n\tborder-radius: 4px;\n\tborder: none;\n}\n\n.footer {\n\tpadding: 10px 15px;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tbackground-color: #fff;\n\tborder-top: 1px solid #eee;\n}\n\n.btn {\n\tflex: 1;\n\theight: 40px;\n\tline-height: 40px;\n\ttext-align: center;\n\tborder-radius: 4px;\n\tfont-size: 16px;\n}\n\n.btn-default {\n\tbackground-color: #f5f5f5;\n\tcolor: #333;\n\tmargin-right: 10px;\n}\n\n.btn-primary {\n\tbackground-color: #409EFF;\n\tcolor: white;\n}\n</style>","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1754224909868\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}