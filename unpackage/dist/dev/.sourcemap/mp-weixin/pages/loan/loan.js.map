{"version":3,"sources":["uni-app:///main.js","webpack:///E:/ysh/ysh-uniapp/pages/loan/loan.vue?07d1","webpack:///E:/ysh/ysh-uniapp/pages/loan/loan.vue?750d","webpack:///E:/ysh/ysh-uniapp/pages/loan/loan.vue?1e12","webpack:///E:/ysh/ysh-uniapp/pages/loan/loan.vue?71db","uni-app:///pages/loan/loan.vue","webpack:///E:/ysh/ysh-uniapp/pages/loan/loan.vue?e886","webpack:///E:/ysh/ysh-uniapp/pages/loan/loan.vue?8e02"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","activeTab","searchKey","customerForm","name","phone","idCard","age","marriage","loanForm","product","amount","term","purpose","monthlyIncome","uploadList","label","path","pendingCustomerList","currentPage","pageSize","total","isLoading","hasMore","onLoad","onShow","uni","title","icon","duration","setTimeout","url","onReachBottom","methods","switchTab","loadMore","loadPendingCustomers","isReset","financeApi","page","page_size","response","newList","console","searchCustomers","getStatusClass","getDealStatus","getClientType","handleViewCustomer","handleCreateLoan","marriageChange","productChange","termChange","purposeChange","chooseImage","count","sizeType","sourceType","success","resetForm","item","validateForm","submitLoan"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChCA;AAAA;AAAA;AAAA;AAA8lB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACmElnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAC;IACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC,aACA;QACAC;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,EACA;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IAEA;IACA;MACA;IACA;;IAEA;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;MACAC;QACAC;QACAC;QACAC;MACA;;MAEA;MACAC;QACAJ;UACAK;QACA;MACA;MACA;IACA;EACA;EACA;EACAC;IACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;QAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAAC;gBACA;gBACA;kBACA;kBACA;kBACA;gBACA;;gBAEA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAIA;gBAEA;kBACAX;oBACAC;kBACA;gBACA;gBAAA;gBAAA;gBAAA,OAGAW;kBACAlC;kBACAmC;kBACAC;gBACA;cAAA;gBAJAC;gBAMA;kBACAC,oCAEA;kBACA;oBACA;kBACA;oBACA;kBACA;kBAEA;;kBAEA;kBACA;kBAEA;oBACAhB;sBACAC;sBACAC;oBACA;kBACA;gBACA;kBACAF;oBACAC;oBACAC;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAe;gBACAjB;kBACAC;kBACAC;gBACA;cAAA;gBAAA;gBAEA;kBACAF;gBACA;gBACA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAkB;MACA;MACA;IACA;IAEA;IACAC;MACA;MAEA;QACA;QACA;QACA;QACA;MACA;MAEA;IACA;IACA;IACAC;MACA;QACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACAtB;QACAK;MACA;IACA;IAEA;IACAkB;MACA;MACA;MACAvB;QACAK;MACA;IACA;IAEAmB;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA5B;MACAA;QACA6B;QACAC;QACAC;QACAC;UACA;QACA;MACA;IACA;IACAC;MACA;QACAvD;QACAC;QACAC;QACAC;QACAC;MACA;MACA;QACAE;QACAC;QACAC;QACAC;QACAC;MACA;MACA;QACA8C;MACA;IACA;IACAC;MACA;MACA;QACAnC;UACAC;UACAC;QACA;QACA;MACA;MACA;QACAF;UACAC;UACAC;QACA;QACA;MACA;MACA;QACAF;UACAC;UACAC;QACA;QACA;MACA;MACA;QACAF;UACAC;UACAC;QACA;QACA;MACA;MACA;IACA;IACAkC;MACA;QACApC;UACAC;QACA;;QAEA;QACAG;UACAJ;UACAA;YACAC;YACAC;UACA;;UAEA;UACAE;YACAJ;cACAK;YACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACzYA;AAAA;AAAA;AAAA;AAAg3B,CAAgB,i3BAAG,EAAC,C;;;;;;;;;;;ACAp4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/loan/loan.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/loan/loan.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./loan.vue?vue&type=template&id=cfd769f4&\"\nvar renderjs\nimport script from \"./loan.vue?vue&type=script&lang=js&\"\nexport * from \"./loan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./loan.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/loan/loan.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./loan.vue?vue&type=template&id=cfd769f4&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.pendingCustomerList, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var m0 = _vm.getStatusClass(item.deal_status)\n    var m1 = _vm.getDealStatus(item.deal_status)\n    var m2 = _vm.getClientType(item.client_type)\n    return {\n      $orig: $orig,\n      m0: m0,\n      m1: m1,\n      m2: m2,\n    }\n  })\n  var g0 = _vm.pendingCustomerList.length === 0 && !_vm.isLoading\n  var g1 = _vm.pendingCustomerList.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        g0: g0,\n        g1: g1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./loan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./loan.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"container\">\n\t\t<view class=\"main\">\n\t\t\t<view class=\"search-bar\">\n\t\t\t\t<view class=\"search-input-wrap\">\n\t\t\t\t\t<view class=\"search-icon\">\n\t\t\t\t\t\t<text class=\"iconfont\">üîç</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<input class=\"search-input\" type=\"text\" v-model=\"searchKey\" placeholder=\"ÊêúÁ¥¢ÂÆ¢Êà∑ÂßìÂêç\" @confirm=\"searchCustomers\" />\n\t\t\t\t</view>\n\t\t\t\t<view class=\"search-btn\" @click=\"searchCustomers\">ÊêúÁ¥¢</view>\n\t\t\t</view>\n\n\t\t\t<view class=\"customer-list\">\n\t\t\t\t<view class=\"customer-card\" v-for=\"(item, index) in pendingCustomerList\" :key=\"index\">\n\t\t\t\t\t<view class=\"customer-info\">\n\t\t\t\t\t\t<view class=\"customer-header\">\n\t\t\t\t\t\t\t<text class=\"customer-name\">{{ item.name }}</text>\n\t\t\t\t\t\t\t<text class=\"customer-status\" :class=\"'status-' + getStatusClass(item.deal_status)\">{{ getDealStatus(item.deal_status) }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<!-- <view class=\"info-row\">\n\t\t\t\t\t\t\t<text class=\"info-label\">ÊâãÊú∫Âè∑:</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ item.phone }}</text>\n\t\t\t\t\t\t</view> -->\n\t\t\t\t\t\t<view class=\"info-row\">\n\t\t\t\t\t\t\t<text class=\"info-label\">ÊâÄÂ±ûÂÆ¢Áæ§:</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ getClientType(item.client_type) }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"info-row\">\n\t\t\t\t\t\t\t<text class=\"info-label\">‰∏öÂä°Âëò:</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ item.service_name }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"info-row\">\n\t\t\t\t\t\t\t<text class=\"info-label\">ÈÉ®Èó®:</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ item.branch_name }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"info-row\">\n\t\t\t\t\t\t\t<text class=\"info-label\">‰∫ßÂìÅÂëò:</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ item.product_name || 'Êú™ÂàÜÈÖç' }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"customer-actions\">\n\t\t\t\t\t\t<view class=\"action-btn view-btn\" @click=\"handleViewCustomer(item)\">\n\t\t\t\t\t\t\t<text class=\"btn-text\">Êü•ÁúãÂÆ¢Êà∑</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"action-btn loan-btn\" @click=\"handleCreateLoan(item)\">\n\t\t\t\t\t\t\t<text class=\"btn-text\">Áî≥ËØ∑Ë¥∑Ê¨æ</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<view class=\"empty-tip\" v-if=\"pendingCustomerList.length === 0 && !isLoading\">\n\t\t\t\t\tÊöÇÊó†ÂæÖÂ§ÑÁêÜÂÆ¢Êà∑Êï∞ÊçÆ\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- Âä†ËΩΩÊõ¥Â§öÊèêÁ§∫ -->\n\t\t\t\t<view class=\"loading-more\" v-if=\"pendingCustomerList.length > 0\">\n\t\t\t\t\t<text v-if=\"isLoading\">Âä†ËΩΩ‰∏≠...</text>\n\t\t\t\t\t<text v-else-if=\"hasMore\">‰∏äÊãâÂä†ËΩΩÊõ¥Â§ö</text>\n\t\t\t\t\t<text v-else>Ê≤°ÊúâÊõ¥Â§öÊï∞ÊçÆ‰∫Ü</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport financeApi from '@/api/finance.js';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tactiveTab: 0,\n\t\t\tsearchKey: '',\n\t\t\tcustomerForm: {\n\t\t\t\tname: '',\n\t\t\t\tphone: '',\n\t\t\t\tidCard: '',\n\t\t\t\tage: '',\n\t\t\t\tmarriage: null\n\t\t\t},\n\t\t\tloanForm: {\n\t\t\t\tproduct: null,\n\t\t\t\tamount: '',\n\t\t\t\tterm: null,\n\t\t\t\tpurpose: null,\n\t\t\t\tmonthlyIncome: ''\n\t\t\t},\n\t\t\tuploadList: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Ë∫´‰ªΩËØÅÊ≠£Èù¢',\n\t\t\t\t\tpath: ''\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Ë∫´‰ªΩËØÅÂèçÈù¢',\n\t\t\t\t\tpath: ''\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Â∑•‰ΩúËØÅÊòé',\n\t\t\t\t\tpath: ''\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Êî∂ÂÖ•ËØÅÊòé',\n\t\t\t\t\tpath: ''\n\t\t\t\t}\n\t\t\t],\n\t\t\tpendingCustomerList: [],\n\t\t\t// ÂàÜÈ°µÁõ∏ÂÖ≥Áä∂ÊÄÅ\n\t\t\tcurrentPage: 1,\n\t\t\tpageSize: 10,\n\t\t\ttotal: 0,\n\t\t\tisLoading: false,\n\t\t\thasMore: true\n\t\t}\n\t},\n\tonLoad(option) {\n\t\t\n\t\t// Â¶ÇÊûú‰ªéÂÆ¢Êà∑È°µÈù¢Ë∑≥ËΩ¨ËøáÊù•Ôºå‰ºöÂ∏¶‰∏äÂÆ¢Êà∑ÂêçÁß∞\n\t\tif (option.customer) {\n\t\t\tthis.customerForm.name = option.customer;\n\t\t}\n\n\t\t// Âä†ËΩΩÂæÖÂ§ÑÁêÜÂÆ¢Êà∑ÂàóË°®\n\t\tthis.loadPendingCustomers(true);\n\t},\n\tonShow() {\n\t\t// App.vue ‰∏≠Â∑≤ÁªèÂ§ÑÁêÜ‰∫Ü tabbar Áõ∏ÂÖ≥ÈÄªËæëÔºåËøôÈáå‰∏çÂÜçÈúÄË¶ÅÂçïÁã¨Â§ÑÁêÜ\n\t\t// Ê£ÄÊü•ÊùÉÈôê\n\t\tconst permissions = uni.getStorageSync('permissions');\n\t\tif (!permissions || !permissions.loan) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'ÊÇ®Ê≤°ÊúâÊùÉÈôêËÆøÈóÆË¥∑Ê¨æÁÆ°ÁêÜ',\n\t\t\t\ticon: 'none',\n\t\t\t\tduration: 2000\n\t\t\t});\n\t\t\t\n\t\t\t// Âª∂ËøüÂêéË∑≥ËΩ¨Âà∞È¶ñÈ°µ\n\t\t\tsetTimeout(() => {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/dashboard/dashboard'\n\t\t\t\t});\n\t\t\t}, 1000);\n\t\t\treturn;\n\t\t}\n\t},\n\t// ‰∏äÊãâËß¶Â∫ï‰∫ã‰ª∂\n\tonReachBottom() {\n\t\tif (this.hasMore && !this.isLoading) {\n\t\t\tthis.loadMore();\n\t\t}\n\t},\n\tmethods: {\n\t\t// ÂàáÊç¢Ê†áÁ≠æ\n\t\tswitchTab(index) {\n\t\t\tthis.activeTab = index;\n\t\t\tif (index === 1) {\n\t\t\t\tthis.loadPendingCustomers(true);\n\t\t\t}\n\t\t},\n\n\t\t// Âä†ËΩΩÊõ¥Â§öÊï∞ÊçÆ\n\t\tloadMore() {\n\t\t\tif (this.hasMore && !this.isLoading) {\n\t\t\t\tthis.currentPage++;\n\t\t\t\tthis.loadPendingCustomers(false);\n\t\t\t}\n\t\t},\n\n\t\t// Âä†ËΩΩÂæÖÂ§ÑÁêÜÂÆ¢Êà∑ÂàóË°®\n\t\tasync loadPendingCustomers(isReset = true) {\n\t\t\t// Â¶ÇÊûúÊòØÈáçÁΩÆÔºåÂàôÊ∏ÖÁ©∫ÂàóË°®Âπ∂ÂõûÂà∞Á¨¨‰∏ÄÈ°µ\n\t\t\tif (isReset) {\n\t\t\t\tthis.currentPage = 1;\n\t\t\t\tthis.pendingCustomerList = [];\n\t\t\t\tthis.hasMore = true;\n\t\t\t}\n\t\t\t\n\t\t\t// Â∑≤Êó†Êõ¥Â§öÊï∞ÊçÆÊó∂‰∏çÂÜçËØ∑Ê±Ç\n\t\t\tif (!this.hasMore) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis.isLoading = true;\n\t\t\t\n\t\t\tif (isReset) {\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: 'Âä†ËΩΩ‰∏≠...'\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst response = await financeApi.getFinanceList({\n\t\t\t\t\tname: this.searchKey,\n\t\t\t\t\tpage: this.currentPage,\n\t\t\t\t\tpage_size: this.pageSize\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (response && response.retCode === 200) {\n\t\t\t\t\tconst newList = response.data.list || [];\n\t\t\t\t\t\n\t\t\t\t\t// ËøΩÂä†Êï∞ÊçÆËÄåÈùûÊõøÊç¢\n\t\t\t\t\tif (isReset) {\n\t\t\t\t\t\tthis.pendingCustomerList = newList;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.pendingCustomerList = [...this.pendingCustomerList, ...newList];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.total = response.data.total || 0;\n\t\t\t\t\t\n\t\t\t\t\t// Âà§Êñ≠ÊòØÂê¶ËøòÊúâÊõ¥Â§öÊï∞ÊçÆ\n\t\t\t\t\tthis.hasMore = newList.length >= this.pageSize && this.pendingCustomerList.length < this.total;\n\t\t\t\t\t\n\t\t\t\t\tif (isReset && this.pendingCustomerList.length === 0) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'ÊöÇÊó†Ë¥∑Ê¨æÊï∞ÊçÆ',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: response.retMsg || 'Ëé∑ÂèñË¥∑Ê¨æÂàóË°®Â§±Ë¥•',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Ëé∑ÂèñË¥∑Ê¨æÂàóË°®Â§±Ë¥•:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'Ëé∑ÂèñË¥∑Ê¨æÂàóË°®Â§±Ë¥•',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t} finally {\n\t\t\t\tif (isReset) {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t\tthis.isLoading = false;\n\t\t\t}\n\t\t},\n\n\t\t// ÊêúÁ¥¢ÂÆ¢Êà∑\n\t\tsearchCustomers() {\n\t\t\t// ÈáçÁΩÆÂπ∂ÊêúÁ¥¢\n\t\t\tthis.loadPendingCustomers(true);\n\t\t},\n\n\t\t// Ëé∑ÂèñÁä∂ÊÄÅÊ†∑ÂºèÁ±ª\n\t\tgetStatusClass(status) {\n\t\t\tif (!status) return 'pending';\n\n\t\t\tconst statusMap = {\n\t\t\t\t'1': 'pending',\n\t\t\t\t'2': 'processing',\n\t\t\t\t'3': 'approved',\n\t\t\t\t'4': 'rejected'\n\t\t\t};\n\n\t\t\treturn statusMap[status] || 'pending';\n\t\t},\n\t\t// ÂÆ°ÊâπÁä∂ÊÄÅÊñáÊú¨ËΩ¨Êç¢\n\t\tgetDealStatus(status) {\n\t\t\tconst statusMap = {\n\t\t\t\t1: 'ÂæÖÂ§ÑÁêÜ',\n\t\t\t\t2: 'ÂÆ°Êâπ‰∏≠',\n\t\t\t\t3: 'Â∑≤ÂÆ°Êâπ',\n\t\t\t\t4: 'Â∑≤ÊãíÁªù'\n\t\t\t}\n\t\t\treturn statusMap[status] || 'Êú™Áü•'\n\t\t},\t\n\n\t\t// ÂÆ¢Êà∑Á±ªÂûãËΩ¨Êç¢\n\t\tgetClientType (type) {\n\t\t\tconst typeMap = {\n\t\t\t\t1: 'Ê∂àË¥π',\n\t\t\t\t2: 'ÁªèËê•',\n\t\t\t\t3: 'Ê∂àË¥πÁªèËê•'\n\t\t\t}\n\t\t\treturn typeMap[type] || 'Êú™Áü•'\n\t\t},\n\n\t\t// Êü•ÁúãÂÆ¢Êà∑ËØ¶ÊÉÖ\n\t\thandleViewCustomer(item) {\n\t\t\tconst customerData = encodeURIComponent(JSON.stringify(item));\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/customer/detail?id=${item.id}&customerData=${customerData}&type=loan`\n\t\t\t});\n\t\t},\n\n\t\t// ‰∏∫ÂÆ¢Êà∑ÂàõÂª∫Ë¥∑Ê¨æ\n\t\thandleCreateLoan(item) {\n\t\t\t// Ë∑≥ËΩ¨Âà∞Ë¥∑Ê¨æÁî≥ËØ∑È°µÈù¢ÔºåÂπ∂‰º†ÈÄíÂÆ¢Êà∑ID\n\t\t\tconst customerData = encodeURIComponent(JSON.stringify(item));\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/loan/apply?id=${item.id}&customerData=${customerData}`\n\t\t\t});\n\t\t},\n\n\t\tmarriageChange(e) {\n\t\t\tthis.customerForm.marriage = e.detail.value;\n\t\t},\n\t\tproductChange(e) {\n\t\t\tthis.loanForm.product = e.detail.value;\n\t\t},\n\t\ttermChange(e) {\n\t\t\tthis.loanForm.term = e.detail.value;\n\t\t},\n\t\tpurposeChange(e) {\n\t\t\tthis.loanForm.purpose = e.detail.value;\n\t\t},\n\t\tchooseImage(index) {\n\t\t\tuni.setStorageSync('isChoosingImage', true);\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsizeType: ['compressed'],\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.uploadList[index].path = res.tempFilePaths[0];\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tresetForm() {\n\t\t\tthis.customerForm = {\n\t\t\t\tname: '',\n\t\t\t\tphone: '',\n\t\t\t\tidCard: '',\n\t\t\t\tage: '',\n\t\t\t\tmarriage: null\n\t\t\t};\n\t\t\tthis.loanForm = {\n\t\t\t\tproduct: null,\n\t\t\t\tamount: '',\n\t\t\t\tterm: null,\n\t\t\t\tpurpose: null,\n\t\t\t\tmonthlyIncome: ''\n\t\t\t};\n\t\t\tthis.uploadList.forEach(item => {\n\t\t\t\titem.path = '';\n\t\t\t});\n\t\t},\n\t\tvalidateForm() {\n\t\t\t// Ë°®ÂçïÈ™åËØÅÈÄªËæë\n\t\t\tif (!this.customerForm.name) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'ËØ∑ËæìÂÖ•ÂÆ¢Êà∑ÂßìÂêç',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!this.customerForm.phone) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑Á†Å',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!this.loanForm.amount) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'ËØ∑ËæìÂÖ•Ë¥∑Ê¨æÈáëÈ¢ù',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.loanForm.product === null) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'ËØ∑ÈÄâÊã©Ë¥∑Ê¨æ‰∫ßÂìÅ',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tsubmitLoan() {\n\t\t\tif (this.validateForm()) {\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: 'Êèê‰∫§‰∏≠...'\n\t\t\t\t});\n\n\t\t\t\t// Ê®°ÊãüÊèê‰∫§\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'Êèê‰∫§ÊàêÂäü',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t});\n\n\t\t\t\t\t// Êèê‰∫§ÊàêÂäüÂêéËøîÂõû\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\turl: '/pages/dashboard/dashboard'\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 1500);\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.container {\n\tmin-height: 100vh;\n\tbackground-color: #f5f7fa;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.main {\n\tflex: 1;\n\tpadding: 15px;\n}\n\n.tabs {\n\tdisplay: flex;\n\tmargin-bottom: 15px;\n\tborder-bottom: 1px solid #ebeef5;\n\tbackground-color: #fff;\n\tborder-radius: 8px 8px 0 0;\n}\n\n.tab {\n\tpadding: 12px 15px;\n\tfont-size: 14px;\n\tcolor: #606266;\n\tposition: relative;\n\tflex: 1;\n\ttext-align: center;\n}\n\n.tab.active {\n\tcolor: #409EFF;\n}\n\n.tab.active:after {\n\tcontent: '';\n\tposition: absolute;\n\tbottom: -1px;\n\tleft: 0;\n\tright: 0;\n\theight: 2px;\n\tbackground-color: #409EFF;\n}\n\n.card {\n\tbackground-color: #fff;\n\tborder-radius: 8px;\n\tbox-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n\tmargin-bottom: 20px;\n\tpadding: 15px;\n}\n\n.card-title {\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tmargin-bottom: 15px;\n\tcolor: #303133;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.card-title::before {\n\tcontent: '';\n\twidth: 4px;\n\theight: 16px;\n\tbackground-color: #409EFF;\n\tmargin-right: 8px;\n\tborder-radius: 2px;\n}\n\n.form-group {\n\tmargin-bottom: 15px;\n}\n\n.form-label {\n\tdisplay: block;\n\tmargin-bottom: 5px;\n\tfont-weight: 500;\n\tfont-size: 14px;\n}\n\n.form-control {\n\twidth: 100%;\n\tpadding: 10px;\n\tborder: 1px solid #dcdfe6;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\tbackground-color: #fff;\n}\n\n.placeholder {\n\tcolor: #999;\n}\n\n.upload-list {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(2, 1fr);\n\tgap: 15px;\n}\n\n.upload-label {\n\tfont-size: 14px;\n\tmargin-bottom: 5px;\n}\n\n.upload-container {\n\theight: 100px;\n\tborder: 1px dashed #dcdfe6;\n\tborder-radius: 4px;\n\toverflow: hidden;\n}\n\n.upload-image {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.upload-placeholder {\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: #f5f7fa;\n}\n\n.upload-icon {\n\tfont-size: 24px;\n\tcolor: #909399;\n\tmargin-bottom: 5px;\n}\n\n.upload-text {\n\tfont-size: 12px;\n\tcolor: #909399;\n}\n\n.form-actions {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tmargin-top: 20px;\n\tmargin-bottom: 30px;\n}\n\n.btn {\n\tflex: 1;\n\tpadding: 12px 0;\n\tborder-radius: 4px;\n\tfont-size: 14px;\n\ttext-align: center;\n\tborder: none;\n}\n\n.btn-default {\n\tbackground-color: #f5f7fa;\n\tborder: 1px solid #dcdfe6;\n\tcolor: #606266;\n\tmargin-right: 15px;\n}\n\n.btn-primary {\n\tbackground-color: #409EFF;\n\tcolor: white;\n}\n\n/* ÂæÖÂ§ÑÁêÜÂÆ¢Êà∑ÂàóË°®Ê†∑Âºè */\n.search-bar {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tz-index: 100;\n\tbackground-color: #fff;\n\tpadding: 12px 15px;\n\tbox-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.search-input-wrap {\n\tflex: 1;\n\tdisplay: flex;\n\talign-items: center;\n\tbackground-color: #f5f7fa;\n\tborder-radius: 20px;\n\tpadding: 0 10px;\n\theight: 36px;\n}\n\n.search-icon {\n\tcolor: #909399;\n\tmargin-right: 5px;\n}\n\n.search-input {\n\tflex: 1;\n\theight: 36px;\n\tborder: none;\n\tbackground-color: transparent;\n\tfont-size: 14px;\n}\n\n.search-btn {\n\tbackground-color: #409EFF;\n\tcolor: white;\n\tborder-radius: 20px;\n\tpadding: 8px 15px;\n\tfont-size: 14px;\n\tmargin-left: 10px;\n}\n\n.customer-list {\n\tmargin-top: 70px; /* ‰∏∫Âõ∫ÂÆöÊêúÁ¥¢Ê°ÜÁïôÂá∫Á©∫Èó¥ */\n\tmargin-bottom: 20px;\n}\n\n.customer-card {\n\tbackground-color: #fff;\n\tborder-radius: 8px;\n\tmargin-bottom: 15px;\n\tpadding: 15px;\n\tbox-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.customer-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 10px;\n}\n\n.customer-name {\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tcolor: #303133;\n}\n\n.customer-status {\n\tfont-size: 12px;\n\tpadding: 4px 8px;\n\tborder-radius: 4px;\n\tcolor: white;\n}\n\n.status-pending {\n\tbackground-color: #e6a23c;\n}\n\n.status-processing {\n\tbackground-color: #409EFF;\n}\n\n.status-approved {\n\tbackground-color: #67c23a;\n}\n\n.status-rejected {\n\tbackground-color: #f56c6c;\n}\n\n.info-row {\n\tdisplay: flex;\n\tmargin-bottom: 8px;\n\tfont-size: 14px;\n}\n\n.info-label {\n\tcolor: #909399;\n\twidth: 80px;\n\tflex-shrink: 0;\n}\n\n.info-value {\n\tcolor: #606266;\n\tflex: 1;\n}\n\n.customer-actions {\n\tdisplay: flex;\n\tborder-top: 1px solid #ebeef5;\n\tpadding-top: 12px;\n\tmargin-top: 12px;\n}\n\n.action-btn {\n\tflex: 1;\n\ttext-align: center;\n}\n\n.btn-text {\n\tfont-size: 14px;\n}\n\n.view-btn {\n\tcolor: #409EFF;\n}\n\n.loan-btn {\n\tcolor: #67c23a;\n}\n\n.empty-tip {\n\ttext-align: center;\n\tcolor: #909399;\n\tpadding: 20px;\n\tbackground-color: #fff;\n\tborder-radius: 8px;\n}\n\n/* Âä†ËΩΩÊõ¥Â§öÊèêÁ§∫Ê†∑Âºè */\n.loading-more {\n\ttext-align: center;\n\tcolor: #909399;\n\tpadding: 10px;\n\tborder-radius: 8px;\n}\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./loan.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./loan.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1749696887381\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}