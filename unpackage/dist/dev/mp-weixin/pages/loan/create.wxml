<view class="container"><view class="form-card"><view class="form-title">{{isEdit?'编辑贷款申请':'创建贷款申请'}}</view><view class="form-section"><view class="section-title">客户信息</view><view class="form-group"><view class="form-label">客户姓名</view><input class="form-input" type="text" disabled="{{true}}" data-event-opts="{{[['input',[['__set_model',['$0','customerName','$event',[]],['loanForm']]]]]}}" value="{{loanForm.customerName}}" bindinput="__e"/></view><view class="form-group"><view class="form-label">客户类型</view><input class="form-input" type="text" disabled="{{true}}" data-event-opts="{{[['input',[['__set_model',['$0','customerGroup','$event',[]],['loanForm']]]]]}}" value="{{loanForm.customerGroup}}" bindinput="__e"/></view></view><view class="form-section"><view class="section-title">基本信息</view><view class="form-group"><view class="form-label">贷款名称</view><input class="form-input" type="text" placeholder="请输入贷款名称" data-event-opts="{{[['input',[['__set_model',['$0','name','$event',[]],['loanForm']]]]]}}" value="{{loanForm.name}}" bindinput="__e"/></view><view class="form-group"><view class="form-label">贷款类型</view><picker class="picker-input" mode="selector" range="{{loanTypes}}" data-event-opts="{{[['change',[['onLoanTypeChange',['$event']]]]]}}" bindchange="__e"><view class="picker-display"><text class="picker-value">{{loanForm.type||'请选择贷款类型'}}</text><text class="picker-arrow">▼</text></view></picker></view><view class="form-group"><view class="form-label">贷款期限</view><picker class="picker-input" mode="selector" range="{{loanTerms}}" data-event-opts="{{[['change',[['onLoanTermChange',['$event']]]]]}}" bindchange="__e"><view class="picker-display"><text class="picker-value">{{loanForm.term?loanForm.term+'年':'请选择贷款期限'}}</text><text class="picker-arrow">▼</text></view></picker></view><view class="form-group"><view class="form-label">还款方式</view><picker class="picker-input" mode="selector" range="{{repaymentMethods}}" data-event-opts="{{[['change',[['onRepaymentMethodChange',['$event']]]]]}}" bindchange="__e"><view class="picker-display"><text class="picker-value">{{loanForm.repaymentMethod||'请选择还款方式'}}</text><text class="picker-arrow">▼</text></view></picker></view><block wx:if="{{hasPermission}}"><view class="form-group"><view class="form-label">渠道</view><input class="form-input" type="text" placeholder="请输入渠道" data-event-opts="{{[['input',[['__set_model',['$0','channel','$event',[]],['loanForm']]]]]}}" value="{{loanForm.channel}}" bindinput="__e"/></view></block></view><view class="form-section"><view class="section-title">审批信息</view><view class="form-group"><view class="form-label">贷款进度</view><picker class="picker-input" mode="selector" range="{{loanStatuses}}" data-event-opts="{{[['change',[['onLoanStatusChange',['$event']]]]]}}" bindchange="__e"><view class="picker-display"><text class="picker-value">{{loanForm.status||'请选择贷款进度'}}</text><text class="picker-arrow">▼</text></view></picker></view><block wx:if="{{loanForm.status!=='拒绝'}}"><view class="form-group"><view class="form-label">额度</view><input class="form-input" type="text" placeholder="请输入额度" data-event-opts="{{[['input',[['__set_model',['$0','amount','$event',[]],['loanForm']]]]]}}" value="{{loanForm.amount}}" bindinput="__e"/></view></block><block wx:if="{{loanForm.status==='拒绝'}}"><view class="form-group"><view class="form-label">拒绝原因</view><input class="form-input" type="text" placeholder="请输入拒绝原因" data-event-opts="{{[['input',[['__set_model',['$0','rejectReason','$event',[]],['loanForm']]]]]}}" value="{{loanForm.rejectReason}}" bindinput="__e"/></view></block><block wx:if="{{loanForm.status==='放款'}}"><view class="form-group"><view class="form-label">放款时间</view><picker class="picker-input" mode="date" value="{{loanForm.disbursementDate}}" data-event-opts="{{[['change',[['onDateChange',['$event']]]]]}}" bindchange="__e"><view class="picker-display"><text class="picker-value">{{loanForm.disbursementDate||'请选择放款时间'}}</text><text class="picker-arrow">▼</text></view></picker></view></block></view><view class="form-buttons"><button data-event-opts="{{[['tap',[['cancel',['$event']]]]]}}" class="btn-cancel" bindtap="__e">取消</button><button data-event-opts="{{[['tap',[['submit',['$event']]]]]}}" class="btn-submit" bindtap="__e">确定</button></view></view></view>