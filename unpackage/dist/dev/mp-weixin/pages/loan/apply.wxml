<view class="container"><button data-event-opts="{{[['tap',[['handleCreate',['$event']]]]]}}" class="btn-create" bindtap="__e">+</button><view class="loan-list"><block wx:if="{{isLoading}}"><view class="loading-container"><text>加载中...</text></view></block><block wx:else><block wx:if="{{hasError}}"><view class="error-container"><text>{{errorMsg}}</text><button data-event-opts="{{[['tap',[['loadLoanList',['$event']]]]]}}" class="retry-btn" bindtap="__e">重试</button></view></block><block wx:else><block wx:if="{{$root.g0===0}}"><view class="empty-tip"><text>暂无贷款记录</text></view></block><block wx:else><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="loan-card"><view class="loan-header"><text class="loan-name">{{item.$orig.name}}</text><view class="{{['loan-status','status-'+item.m0]}}"><text>{{item.m1}}</text></view></view><view class="loan-info"><view class="info-row"><text class="info-label">贷款类型:</text><text class="info-value">{{item.$orig.type==1?'消费':'经营'}}</text></view><view class="info-row"><text class="info-label">期限(年):</text><text class="info-value">{{item.$orig.age_limit}}</text></view><view class="info-row"><text class="info-label">详细进度</text><text data-event-opts="{{[['tap',[['viewProgress',['$0'],[[['loanList','',index]]]]]]]}}" class="info-value" style="color:#409EFF;" bindtap="__e">查看</text></view><view class="info-row"><text class="info-label">还款方式:</text><text class="info-value">{{item.m2}}</text></view><view class="info-row"><text class="info-label">放款时间:</text><text class="info-value">{{item.$orig.loan_date||'-'}}</text></view><view class="info-row"><text class="info-label">额度:</text><text class="info-value">{{item.$orig.quota}}</text></view><view class="info-row"><text class="info-label">利率:</text><text class="info-value">{{item.$orig.rate}}</text></view><view class="info-row"><text class="info-label">还款状态:</text><view class="{{['repayment-status','repayment-'+item.m3]}}"><text>{{item.$orig.is_yu==0?'正常':'逾期'}}</text></view></view><block wx:if="{{item.$orig.cause}}"><view class="info-row"><text class="info-label">拒绝原因:</text><text class="info-value reject-reason">{{item.$orig.cause}}</text></view></block><view class="info-row"><text class="info-label">渠道:</text><text class="info-value">{{item.$orig.channel}}</text></view></view><view class="loan-actions"><view data-event-opts="{{[['tap',[['handleView',['$0'],[[['loanList','',index]]]]]]]}}" class="action-btn" bindtap="__e"><text class="btn-text">详情</text></view><block wx:if="{{item.$orig.status==2}}"><view data-event-opts="{{[['tap',[['handleOverdue',['$0'],[[['loanList','',index]]]]]]]}}" class="action-btn" bindtap="__e"><text class="btn-text">逾期处理</text></view></block><block wx:if="{{item.$orig.status==1}}"><view data-event-opts="{{[['tap',[['updateLoanStatus',['$0'],[[['loanList','',index]]]]]]]}}" class="action-btn" bindtap="__e"><text class="btn-text">更新进度</text></view></block></view></view></block></block></block></block></view></view>